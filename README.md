kb_builder
==========

The `kb_builder` is the original engine that ran the [builder.swillkb.com](http://builder.swillkb.com) service.  That service has since been completely rewritten from scratch in Golang, but this project is still a useful environment to hack on.  

This tool uses the JSON layout generated by the [Keyboard Layout Editor](http://www.keyboard-layout-editor.com/).  It has a lot of additional features for modifying the output of the plate.  Check the `?` next to the Plate Layout text field in the UI for more details.

This tool is implemented as a webserver and exposes a UI to be consumed in the browser, but it is not fit for actual web traffic because it can not handle the drawing of more than one layout at a time.  This however should not be a limitiation for personal use.


## Installation and Configuration

Install this one a Ubuntu VM on your laptop with either VirtualBox or VMware Fusion.  I have had trouble getting the FreeCAD lib to work correctly on Mac OSX, so if you get it working, please contribute some documentation.  For now I only describe Ubuntu install instructions.

### Install the dependencies
```
$ sudo apt-get install software-properties-common
$ sudo add-apt-repository ppa:freecad-maintainers/freecad-daily
$ sudo apt-get update
$ sudo apt-get upgrade
$ sudo apt-get -y install unzip
$ sudo apt-get -y install build-essential
$ sudo apt-get -y install freecad
$ sudo apt-get -y install git
$ sudo apt-get -y install python-pip
$ sudo apt-get -y install python-dev
$ sudo pip install tornado
$ sudo pip install cadquery
```

### Install the Draft-dxf-importer
This is a quick start guide.  Review the [full docs here](https://github.com/yorikvanhavre/Draft-dxf-importer)

```
$ cd ~/
$ freecad
	# note the version number
	# download the appropriate version from here: https://github.com/yorikvanhavre/Draft-dxf-importer
	# i will assume freecad version v16 and the latest importer (v15)
$ wget https://github.com/yorikvanhavre/Draft-dxf-importer/archive/1.38.zip
$ unzip 1.38.zip
	# this will create the 'Draft-dxf-importer-1.38/' directory
$ cp Draft-dxf-importer-1.38/* /root/.FreeCAD/
```

### Get the source and run
```
$ git clone https://github.com/swill/kb_builder.git
$ cd kb_builder
$ sudo ./kb_builder.py
```


## License

```
kb_builder builts keyboard plate and case CAD files using JSON input.

Copyright (C) 2015  Will Stevens (swill)

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as
published by the Free Software Foundation, either version 3 of the
License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.
```